<!DOCTYPE html>
<html lang='en-us'>

<head>

    <!-- <meta http-equiv="refresh" content="5" /> -->

    <meta charset="UTF-8">
    <title>Hospital Transportation</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">

    <!-- jQuery -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

    <!-- Moment.js -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.16.0/moment.min.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Shrikhand" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="css/style.css">


</head>
<!-- class="container-fluid bg-info" -->

<body>
    <!-- // -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
  // SECTION B.2. - MAP: Search Criteria
  // -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->

    <nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
        <div class="container">
            <a class="navbar-brand" href="index.html">Host<span>Trans</span></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav"
                aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="oi oi-menu"></span> Menu
            </button>

            <div class="collapse navbar-collapse" id="ftco-nav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item active"><a href="home.html" class="nav-link">Home</a></li>
                    <li class="nav-item"><a href="about.html" class="nav-link">About</a></li>
                    <li class="nav-item"><a href="pricing.html" class="nav-link">Pricing</a></li>
                    <li class="nav-item"><a href="car.html" class="nav-link">Our Car</a></li>
                    <li class="nav-item"><a href="safety.html" class="nav-link">Safety</a></li>
                    <li class="nav-item"><a href="/add" class="nav-link">Contact</a></li>
                </ul>
            </div>
        </div>
    </nav>





    <div class="container-fluid">

        <div id="totalBody" class="row">
            <!--   <div class="col-md-8"></div> -->
            <!-- <div class="col-md-4"> -->

            <div class="col-md-7">colum1</div>
            <div class="col-md-5" id="form-dir">

                <!-- <div id="whatTop" class="col-md-12 filter-title"> --> -->

                <form>

                    <!-- <div id="city-list" class="col-md-12">
                     <div class="col-md-12 form-group">  -->
                    <div>
                        <h5>Enter pick up location.</h5>
                        <select id="city-list" class="custom-select" aria-labelledby="dropdownMenuButton">

                            <option disable selected>City</option>
                            <option value="Boston">Boston</option>
                            <option value="Brookline">Brookline</option>
                            <option value="Cambridge">Cambridge</option>
                            <option value="Medford">Medford</option>
                            <option value="Milton">Milton</option>
                            <option value="Quincy">Quincy</option>
                            <option value="Somerville">Somerville</option>
                            <option value="Woburn">Woburn</option>
                        </select>
                        <br>

                    </div>
                    <!-- <div id="category-list" class="col-md-12">
        <div class="col-md-12 form-group"> -->
                    <select id="need-list" class="custom-select" aria-labelledby="dropdownMenuButton">
                        <option disable selected>Special Need</option>
                        <option value="wheelchair">wheelchair</option>
                        <option value="Assistant">Assistant</option>
                        <option value="Walker">Walker</option>
                        <option value="phisical">Phisical Help</option>
                        <option value="Mental">Mental Help</option>

                    </select>
                    <!-- </div>
    </div> -->
                    <br>
                    <!-- <div id="whatTop" class="col-md-12 filter-title"> -->

                    <!-- </div> -->

                    <!-- <div id="needs-list" class="col-md-12">
        <div class="col-md-12 form-group"> -->
                    <div>
                        <h5>Enter drop-off location.</h5>
                        <select id="Hospitals-list" class="custom-select" aria-labelledby="dropdownMenuButton">
                            <option disable selected>City</option>
                            <option value="MGH">Mass General Hospital</option>
                            <option value="Tufts Hospital">Tufts Hospital</option>
                            <option value="Boston medical">Boston Medical</option>

                        </select>


                    </div>
                    <br>
                    <!-- <div class="row">
        <div class="form-group col-md-12 justify-content-end"> -->
                    <div>
                        <button type="submit" id="submit-filter" class="btn">Submit</button>
                    </div>

                </form>
            </div>
        </div>
    </div>



    <div class="modal" id="executeModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title">Your Driver</h3>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <h4>Your driver name is: <span id="driverName"></span></h4>
                    <img id="driverImg">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>










</body>

</html>





<!-- ======================================================================= -->

<script type="text/javascript">
    $("#submitBtn").on("click", function (event) {
        event.preventDefault();
        // Form validation
        var valid = true;
        if ($("#city-list").val() === "" || $("#category-list").val() === "") {
            valid = false;
        } else if ($("#needs-list").val() === "empty") {
            valid = false;
        }
        if (valid === true) {
            var newUser = {
                city: $("#city-list").val().trim(),
                category: $("#category-list").val().trim(),

            };
            var currentURL = window.location.origin;
            // Ajax call for receiving response after POST req
            $.post(currentURL + "/api/drivers", newUser, function (data) {
                $("#driverName").text(data.name);
                $("#driverImg").attr("src", data.photo);
                $("#executeModal").modal("toggle");
            });
        } else {
            // If a required field is missing, show alert
            alert("Survey is incomplete!");
        }
    });
</script>